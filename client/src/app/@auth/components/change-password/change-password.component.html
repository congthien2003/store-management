<div class="container">
    <h2 class="header">Đổi mật khẩu</h2>
  
    <form class="form-container" (ngSubmit)="onSubmit()" #changePasswordForm="ngForm">
      <!-- Email -->
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Email</mat-label>
        <input
          matInput
          type="email"
          [(ngModel)]="email"
          name="email"
          required
          [disabled]="isSubmitting"
        />
      </mat-form-field>
  
      <!-- Old Password -->
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Mật khẩu cũ</mat-label>
        <input
          matInput
          type="showOldPassword ? 'text' : 'password'"
          [(ngModel)]="oldPassword"
          name="oldPassword"
          required
          [disabled]="isSubmitting"
        />
        <button
          mat-icon-button
          matSuffix
          type="button"
          (click)="showOldPassword = !showOldPassword"
        >
          <mat-icon>{{ showOldPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
      </mat-form-field>
  
      <!-- New Password -->
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Mật khẩu mới</mat-label>
        <input
          matInput
          [type]="showNewPassword ? 'text' : 'password'"
          [(ngModel)]="newPassword"
          name="newPassword"
          required
          [disabled]="isSubmitting"
        />
        <button
          mat-icon-button
          matSuffix
          type="button"
          (click)="showNewPassword = !showNewPassword"
        >
          <mat-icon>{{ showNewPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
      </mat-form-field>
  
      <!-- Confirm Password -->
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Xác nhận mật khẩu</mat-label>
        <input
          matInput
          [type]="showConfirmPassword ? 'text' : 'password'"
          [(ngModel)]="confirmPassword"
          name="confirmPassword"
          required
          [disabled]="isSubmitting"
        />
        <button
          mat-icon-button
          matSuffix
          type="button"
          (click)="showConfirmPassword = !showConfirmPassword"
        >
          <mat-icon>{{ showConfirmPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
      </mat-form-field>
  
      <!-- Buttons -->
      <div class="button-group">
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="isSubmitting || !changePasswordForm.valid"
        >
          Lưu
        </button>
        <button
          mat-stroked-button
          color="warn"
          type="button"
          (click)="resetForm()"
          [disabled]="isSubmitting"
        >
          Hủy
        </button>
      </div>
    </form>
  </div>
